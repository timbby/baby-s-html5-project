<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>今天天气不错</title>
  <script>
    //在一个数组中放置5个函数,让每个函数在调用时打印当前函数在数组中的索引值
    
    var arr = [];
    
    for (var i = 0; i < 5; i++) {
      (function () {
        //我们在循环中书写了自调用函数，循环执行5次，就会创建5个独立的局部作用域
        //每个作用域中具有一个独立的局部变量j，并且分别取出了i的不同取值状态
        var j = i;
        
        arr[j] = function () {
          console.log(j);
        };
      })();
    }
    
    //原因是，arr中的每个函数的父级作用域不同，当我们在不同的函数中使用j时，向上查找的父级作用域也不同
    //不同的父级作用域中的局部变量j的值不一样，导致获取结果不同。
    arr[0]();//0
    arr[1]();//1
    arr[2]();//2
    arr[3]();//3
    arr[4]();//4
  
  
  </script>
</head>
<body>

</body>
</html>